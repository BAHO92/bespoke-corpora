<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bespoke Corpora</title>
    <link rel="stylesheet" href="/static/css/main.css?v={{ v }}">
    <link rel="stylesheet" href="/static/css/corpus.css?v={{ v }}">
</head>
<body>
    <header style="padding: 24px 20px 16px; border-bottom: 1px solid var(--border);">
        <h1 style="font-size: 1.4em; color: var(--accent-bright); margin: 0;">Bespoke Corpora</h1>
    </header>
    <main style="padding: 20px; max-width: 960px;" id="collections">
        <p style="color: var(--text-muted);">Loading...</p>
    </main>
    <script src="/static/js/api.js?v={{ v }}"></script>
    <script>
    (async () => {
        const data = await API.get('/api/collections');
        const el = document.getElementById('collections');

        if (!data.length) {
            el.innerHTML = '<p style="color: var(--text-muted);">No collections found. Add data to the <code>data/</code> directory.</p>';
            return;
        }

        let html = '<div class="card-grid">';
        data.forEach(c => {
            html += `<a href="/c/${encodeURIComponent(c.id)}/" class="corpus-card">
                <span class="corpus-type-badge ${c.type}">${c.type}</span>
                <h3>${c.title || c.id}</h3>
                ${c.description ? '<p class="corpus-desc">' + c.description + '</p>' : ''}
                <p class="corpus-count">${c.record_count.toLocaleString()} records</p>
            </a>`;
        });
        html += '</div>';
        el.innerHTML = html;
    })();
    </script>
</body>
</html>
